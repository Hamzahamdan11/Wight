<!DOCTYPE html>
   <html lang="ar">
   <head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>ØªØªØ¨Ø¹ Ø£ÙˆØ²Ø§Ù† Ø§Ù„Ù†Ø§Ø¯ÙŠ</title>
     <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
     <link rel="manifest" href="manifest.json">
     <style>
       body {
         font-family: 'Roboto', sans-serif;
         direction: rtl;
         background: linear-gradient(135deg, #1c2526, #2e3b3e);
         color: #ffffff;
         padding: 20px;
         min-height: 100vh;
         display: flex;
         justify-content: center;
         align-items: flex-start;
       }
       .container {
         max-width: 800px;
         width: 100%;
         background: #252a2f;
         padding: 20px;
         border-radius: 10px;
         box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
       }
       h2 {
         text-align: center;
         color: #ff3d3d;
         font-weight: 700;
         margin-bottom: 20px;
       }
       .form-group {
         margin-bottom: 15px;
       }
       label {
         display: block;
         font-size: 1.1em;
         color: #d1d1d1;
         margin-bottom: 5px;
       }
       input, select {
         padding: 10px;
         width: 100%;
         border: 1px solid #444;
         border-radius: 5px;
         background: #333;
         color: #fff;
         font-size: 1em;
         transition: border-color 0.3s;
       }
       input:focus, select:focus {
         outline: none;
         border-color: #ff3d3d;
         box-shadow: 0 0 5px rgba(255, 61, 61, 0.5);
       }
       button {
         padding: 12px;
         background: #ff3d3d;
         color: #fff;
         border: none;
         border-radius: 5px;
         cursor: pointer;
         font-size: 1.1em;
         font-weight: 700;
         width: 100%;
         transition: background 0.3s, transform 0.2s;
         margin-top: 10px;
       }
       button:hover {
         background: #e02b2b;
         transform: translateY(-2px);
       }
       button:active {
         background: #cc2a2a;
         transform: translateY(0);
       }
       table {
         margin-top: 20px;
         width: 100%;
         border-collapse: collapse;
         background: #2e3338;
         border-radius: 5px;
         overflow: hidden;
       }
       th, td {
         border: 1px solid #444;
         padding: 12px;
         text-align: center;
         color: #d1d1d1;
       }
       th {
         background: #1c2526;
         font-weight: 700;
         color: #ff3d3d;
       }
       tr:nth-child(even) {
         background: #33383d;
       }
       tr:hover {
         background: #3a4147;
       }
       @media (max-width: 600px) {
         .container {
           padding: 15px;
         }
         h2 {
           font-size: 1.5em;
         }
         .form-group label {
           font-size: 1em;
         }
         input, select, button {
           font-size: 0.9em;
           padding: 8px;
         }
         table {
           font-size: 0.85em;
           display: block;
           overflow-x: auto;
         }
         th, td {
           padding: 8px;
         }
       }
     </style>
   </head>
   <body>
     <div class="container">
       <h2>ğŸ“‹ ØªØªØ¨Ø¹ Ø£ÙˆØ²Ø§Ù† ØªÙ…Ø§Ø±ÙŠÙ†Ùƒ</h2>

       <div class="form-group">
         <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</label>
         <input id="user" placeholder="Ù…Ø«Ø§Ù„: Ø£Ø­Ù…Ø¯">
       </div>

       <div class="form-group">
         <label>Ø§Ø³Ù… Ø§Ù„ØªÙ…Ø±ÙŠÙ†:</label>
         <input id="exercise" placeholder="Ù…Ø«Ø§Ù„: Ø¨Ù†Ø´ Ø¨Ø±Ø³">
       </div>

       <div class="form-group">
         <label>Ø§Ù„ÙˆØ²Ù† (ÙƒØºÙ…):</label>
         <input id="weight" type="number" placeholder="Ù…Ø«Ø§Ù„: 60">
       </div>

       <div class="form-group">
         <label>Ø¹Ø¯Ø¯ Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª:</label>
         <input id="reps" type="number" placeholder="Ù…Ø«Ø§Ù„: 10">
       </div>

       <button onclick="addEntry()">â• Ø­ÙØ¸ Ø§Ù„ØªÙ…Ø±ÙŠÙ†</button>
       <button onclick="clearEntries()">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³Ø¬Ù„Ø§Øª</button>

       <div class="form-group">
         <label>Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø¹Ø±Ø¶ Ø³Ø¬Ù„Ø§ØªÙ‡:</label>
         <select id="userSelect" onchange="displayEntries()">
           <option value="">-- Ø§Ø®ØªØ± Ù…Ø³ØªØ®Ø¯Ù… --</option>
         </select>
       </div>

       <table>
         <thead>
           <tr>
             <th>ğŸ’ª Ø§Ù„ØªÙ…Ø±ÙŠÙ†</th>
             <th>âš–ï¸ Ø§Ù„ÙˆØ²Ù†</th>
             <th>ğŸ” Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª</th>
             <th>ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
           </tr>
         </thead>
         <tbody id="logTableBody">
           <!-- Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø³ØªÙØ¶Ø§Ù Ù‡Ù†Ø§ -->
         </tbody>
       </table>
     </div>

     <script>
       let entries = JSON.parse(localStorage.getItem("gymEntries")) || {};
       let currentUser = "";

       updateUserSelect();
       displayEntries();

       function addEntry() {
         const user = document.getElementById("user").value.trim();
         const exercise = document.getElementById("exercise").value.trim();
         const weight = document.getElementById("weight").value.trim();
         const reps = document.getElementById("reps").value.trim();
         const date = new Date().toLocaleDateString("ar-EG");

         if (!user || !exercise || !weight || !reps) {
           alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„");
           return;
         }

         if (!entries[user]) {
           entries[user] = [];
         }

         const newEntry = { exercise, weight, reps, date };
         entries[user].push(newEntry);

         localStorage.setItem("gymEntries", JSON.stringify(entries));

         updateUserSelect();
         document.getElementById("userSelect").value = user;
         displayEntries();

         document.getElementById("exercise").value = "";
         document.getElementById("weight").value = "";
         document.getElementById("reps").value = "";
       }

       function updateUserSelect() {
         const userSelect = document.getElementById("userSelect");
         userSelect.innerHTML = '<option value="">-- Ø§Ø®ØªØ± Ù…Ø³ØªØ®Ø¯Ù… --</option>';
         Object.keys(entries).forEach(user => {
           const option = document.createElement("option");
           option.value = user;
           option.textContent = user;
           userSelect.appendChild(option);
         });
       }

       function displayEntries() {
         const userSelect = document.getElementById("userSelect");
         currentUser = userSelect.value;
         const tbody = document.getElementById("logTableBody");
         tbody.innerHTML = "";

         if (currentUser && entries[currentUser]) {
           entries[currentUser].forEach(entry => {
             const row = `
               <tr>
                 <td>${entry.exercise}</td>
                 <td>${entry.weight} ÙƒØºÙ…</td>
                 <td>${entry.reps}</td>
                 <td>${entry.date}</td>
               </tr>
             `;
             tbody.innerHTML += row;
           });
         }
       }

       function clearEntries() {
         if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³Ø¬Ù„Ø§ØªØŸ")) {
           entries = {};
           localStorage.removeItem("gymEntries");
           updateUserSelect();
           displayEntries();
         }
       }

       if ('serviceWorker' in navigator) {
         navigator.serviceWorker.register('sw.js').then(() => {
           console.log('Service Worker Registered');
         }).catch(error => {
           console.log('Service Worker Registration Failed:', error);
         });
       }
     </script>
   </body>
   </html>